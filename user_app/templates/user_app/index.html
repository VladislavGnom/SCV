{% extends 'base.html' %}

{% block head %}
<!-- Glide.js CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.min.css">

<!-- Glide.js JS -->
<script src="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/glide.min.js"></script>

<style>
.glide {
  max-width: 850px; /* Фиксируем ширину */
  margin: auto;
  position: relative;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* Контейнер с фиксированной высотой */
.glide__track {
  height: 400px; /* Регулируем высоту */
}

.glide__slide {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}

.glide__slide img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Подгоняет изображение без искажений */
  border-radius: 10px;
}

/* --- Стили стрелок --- */
.glide__arrows {
  position: absolute;
  top: 50%;
  width: 100%;
  transform: translateY(-50%);
  display: flex;
  justify-content: space-between;
}

.glide__arrow {
  background: rgba(0, 0, 0, 0.5);
  border: none;
  color: white;
  font-size: 24px;
  padding: 10px 15px;
  cursor: pointer;
  transition: 0.3s;
  border-radius: 50%;
}

.glide__arrow:hover {
  background: rgba(0, 0, 0, 0.8);
}

/* --- Адаптивность --- */
@media (max-width: 768px) {
  .glide {
    max-width: 100%;
  }

  .glide__track {
    height: 250px; /* Уменьшаем высоту на мобильных */
  }
}

</style>

{% endblock %}

{% block main %}
<div class="container text-center">
    <h1 class="">Index</h1>
    <p>Interesting Fact: SCV - School Vlad. The first two letters of the word "school" and the first letter of the developer's name are taken here.</p>
</div>

{% if links %}
<div class="glide">
    <div class="glide__track" data-glide-el="track">
      <ul class="glide__slides">
        {% for link in links %}
            <li class="glide__slide"><img src="{{ link }}" alt="1"></li>
        {% endfor %}
      </ul>
    </div>
  
    <!-- Навигация -->
    <div class="glide__arrows" data-glide-el="controls">
      <button class="glide__arrow glide__arrow--left" data-glide-dir="<">‹</button>
      <button class="glide__arrow glide__arrow--right" data-glide-dir=">">›</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      new Glide('.glide', {
        type: 'carousel',  // Тип слайдера (carousel, slider)
        perView: 1,        // Количество слайдов на экране
        focusAt: 'center', // Центрирование слайда
        autoplay: 3000,    // Автопрокрутка (ms) или false
        hoverpause: true,  // Остановка при наведении
        animationDuration: 600, // Длительность анимации
        gap: 10            // Расстояние между слайдами
      }).mount();
    });
  </script>
{% endif %}
  
<div style="height: 100px;"></div>
{% endblock %}
